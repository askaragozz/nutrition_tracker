<div class="card col-lg-8 mb-3">
  <h3 class="card-header">Foods</h3>
</div>

<%= turbo_frame_tag "category_list" do %>
  <div class="row col-lg-8 mb-3">
    <% @categories.each do |category| %>
      <div class="col-lg-6 mb-3">
        <div class="card h-100">
          <div class="card-body d-flex align-items-start">

            <!-- Left Image -->
            <div class="me-3" style="width:90px; flex-shrink:0;">
              <%= image_tag "categories/#{category.name}.jpg",
                            class: "img-fluid rounded",
                            style: "aspect-ratio: 1 / 1; object-fit: cover; width:100%;" %>
            </div>

            <!-- Right Content -->
            <div class="flex-grow-1">
              <h5 class="mb-2">
                <%= link_to category.name.titleize, category_path(category) %>
              </h5>

              <% category.food_items.limit(10).each do |food_item| %>
                <span class="text-muted small">
                  <%= "#{food_item.name}, " %>
                </span>
              <% end %>
            </div>

          </div>
        </div>
      </div>
    <% end %>
  </div>

  <% if @categories.empty? %><p>No categories found.</p><% end %>
<% end %>
